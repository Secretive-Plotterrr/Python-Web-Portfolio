<!-- pages/Contact.html -->
<section id="contact" class="contact">
    <h2>Contact Me</h2>
    <p>Email: ricovillamin75@gmail.com</p>
    <p>Phone: 639630052901</p>
    <div id="flash-messages"></div> <!-- For success/error messages -->
    <form id="contact-form" class="contact-form">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" placeholder="Your Name" required>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="Your Email" required>
        </div>
        <div class="form-group">
            <label for="message">Message</label>
            <textarea id="message" name="message" placeholder="Your Message" rows="5" required></textarea>
        </div>
        <button type="submit" class="submit-btn">Send Message</button>
    </form>
</section>

<!-- EmailJS and Form Submission Script -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script type="text/javascript">
    (function() {
        emailjs.init("xrnBHs7vfirju4-Gl"); // Your EmailJS Public Key
    })();

    document.getElementById('contact-form').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent page reload

        // Get form values
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const message = document.getElementById('message').value;

        // Create params object with the form data
        const params = {
            from_name: name,
            from_email: email,
            message: message,
            reply_to: email
        };

        emailjs.send('service_y4706jh', 'template_v3nydjo', params)
            .then(function(response) {
                // Success notification
                document.getElementById('flash-messages').innerHTML = `
                    <div class="flash success">
                        Message sent successfully!<br>
                        From: ${name} (${email})
                    </div>`;
                document.getElementById('contact-form').reset(); // Reset form
                setTimeout(() => {
                    document.getElementById('flash-messages').innerHTML = '';
                }, 5000); // Clear after 5 seconds
            }, function(error) {
                // Error notification
                document.getElementById('flash-messages').innerHTML = `
                    <div class="flash error">
                        Failed to send message: ${error.text}<br>
                        Please try again or contact directly at ricovillamin75@gmail.com
                    </div>`;
            });
    });
</script>